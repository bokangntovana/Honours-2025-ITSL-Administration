@{
    ViewData["Title"] = "Event Schedule";
}

@section Breadcrumbs {
    <li class="breadcrumb-item active" aria-current="page">
        <i class="fas fa-calendar-alt me-1 text-primary-blue"></i>Event Schedule
    </li>
}

<div class="container mt-4">
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h2 class="text-danger mb-0">Event Schedule</h2>
        @if (User.IsInRole("Admin") || User.IsInRole("Lecturer") || User.IsInRole("Tutor"))
        {
            <a href="@Url.Action("Create", "EventSchedules")" class="btn btn-primary">
                <i class="fas fa-plus me-2"></i>Create New Event
            </a>
        }
    </div>

    <div class="card shadow-sm">
        <div class="card-body">
            <div id="calendar"></div>
        </div>
    </div>
</div>

@section Scripts {
    <script>
        // Pass user role info into JS
        window.userRoles = {
            canManage: @(User.IsInRole("Admin") || User.IsInRole("Lecturer") || User.IsInRole("Tutor") ? "true" : "false")
        };
    </script>
    <script src="~/js/fullCalendar.js"></script>
}